<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Timer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Enter time in seconds:</h1>
    <button id="start" type="submit" onclick="start()">Start Countdown</button>
    <input type="number" id="seconds" name="seconds" required>
    <button id="reset" type="submit" onclick="resetTimer()">Reset timer</button>
    <div class="timer"></div>

    <script>
        let timerStart;
        timerStart = false;
        let secondsRemaining;
        secondsRemaining = parseInt(document.querySelector('#seconds').value);        
        const button = document.querySelector('button');
        console.log("Script running")
        button.addEventListener('click', updateTimer);
        
        function start() {
            timerStart = true;
        }


        function updateTimer() {
            if (timerStart == true) {
                if (secondsRemaining < 0) {
                    timerElement.textContent = "00:00:00";
                }
                const timerElement = document.querySelector('.timer');

                console.log(secondsRemaining);
                if (secondsRemaining === 0) {
                    timerElement.textContent = "Time's up!";
                    // add any additional logic for timer completion here
                    return;
                }

                const hours = Math.floor(secondsRemaining / 3600);
                const minutes = Math.floor((secondsRemaining / 60) % 60);
                const seconds = secondsRemaining % 60;

                timerElement.textContent = `${hours.toString().padStart(2, 0)}:${minutes.toString().padStart(2, 0)}:${seconds.toString().padStart(2, 0)}`;

                secondsRemaining--;
                setTimeout(updateTimer, 1000);
            }
        }
        updateTimer();

        function resetTimer() {
            const timerElement = document.querySelector('.timer');
            secondsRemaining = document.querySelector('#seconds').value;
            const hours = Math.floor(secondsRemaining / 3600);
            const minutes = Math.floor((secondsRemaining / 60) % 60);
            const seconds = secondsRemaining % 60;

            timerElement.textContent = `${hours.toString().padStart(2, 0)}:${minutes.toString().padStart(2, 0)}:${seconds.toString().padStart(2, 0)}`;
            timerStart = false;
        }
    </script>
</body>
</html>
